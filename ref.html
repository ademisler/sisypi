<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sisypi Nihai Prototip (Mor Tema)</title>
    
    <style>
        /* --- TEMA DEĞİŞKENLERİ --- */
        :root { /* Varsayılan: Karanlık Tema */
            --bg-color: #24212b;
            --surface-color: #2c2836;
            --surface-item-color: #353041;
            --text-color: #d1c8e3;
            --text-heading-color: #ffffff;
            --accent-color: #a777e3;
            --accent-hover: #c08eee;
            --subtle-text: #736c83;
            --border-color: #4a4458;
            --btn-secondary-hover-bg: #4a4458;
            --danger-color: #f7768e;
            --success-color: #9ece6a;
            --shadow-color: rgba(0,0,0,0.3);
        }

        [data-theme="light"] {
            --bg-color: #f6f5f9;
            --surface-color: #ffffff;
            --surface-item-color: #fbfaff;
            --text-color: #3f3c47;
            --text-heading-color: #1c1921;
            --accent-color: #6a3ab2;
            --accent-hover: #8356d1;
            --subtle-text: #817b8f;
            --border-color: #e3e0e8;
            --btn-secondary-hover-bg: #e9e7ed;
            --danger-color: #d9534f;
            --success-color: #5cb85c;
            --shadow-color: rgba(0,0,0,0.1);
        }

        /* --- TEMEL STİLLER --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); display: flex; justify-content: center; align-items: flex-start; padding: 2rem; transition: background-color 0.3s ease; }

        /* --- SVG İKON STİLLERİ --- */
        .icon { width: 18px; height: 18px; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; fill: none; vertical-align: middle; }

        /* --- ANA PENCERE --- */
        .sisypi-popup { width: 450px; background-color: var(--surface-color); border-radius: 12px; box-shadow: 0 10px 30px var(--shadow-color); overflow: hidden; display: flex; flex-direction: column; transition: background-color 0.3s ease, color 0.3s ease; }
        .header { padding: 16px 20px; background-color: color-mix(in srgb, var(--surface-color) 80%, var(--bg-color)); border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; }
        .header h1 { font-size: 22px; font-weight: 700; color: var(--text-heading-color); letter-spacing: -0.5px; }
        .theme-toggle { background: none; border: 1px solid var(--border-color); color: var(--subtle-text); cursor: pointer; border-radius: 50%; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; }
        .theme-toggle:hover { color: var(--accent-color); border-color: var(--accent-color); }
        .theme-toggle .icon-sun { display: none; }
        [data-theme="light"] .theme-toggle .icon-moon { display: none; }
        [data-theme="light"] .theme-toggle .icon-sun { display: block; }
        .main-content { padding: 0 20px 20px 20px; }
        .tabs { display: flex; gap: 4px; border-bottom: 1px solid var(--border-color); margin: 0 -20px 20px -20px; padding: 0 20px; }
        .tab-button { background: none; border: none; color: var(--subtle-text); padding: 12px 16px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s ease; border-bottom: 2px solid transparent; }
        .tab-button:hover { color: var(--text-color); }
        .tab-button.active { color: var(--accent-color); border-bottom-color: var(--accent-color); font-weight: 600; }
        .view { display: none; }
        .view.active { display: block; }

        /* --- GENEL ELEMENTLER --- */
        .btn { border: none; padding: 10px 16px; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; display: inline-flex; align-items: center; justify-content: center; gap: 8px; }
        .btn-primary { background-color: var(--accent-color); color: white; }
        .btn-primary:hover { background-color: var(--accent-hover); }
        .btn-secondary { background-color: var(--border-color); color: var(--text-heading-color); }
        .btn-secondary:hover { background-color: var(--btn-secondary-hover-bg); }
        input[type="text"], .action-select { background-color: var(--bg-color); border: 1px solid var(--border-color); color: var(--text-color); padding: 8px 12px; border-radius: 6px; font-size: 14px; width: 100%; transition: all 0.2s ease; }
        input[type="text"]:focus, .action-select:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent-color) 30%, transparent); }
        
        /* --- EDİTÖR --- */
        .scenario-header { display: flex; flex-direction: column; gap: 12px; margin-bottom: 20px; }
        .scenario-title-input { font-size: 18px; font-weight: 600; padding: 10px; color: var(--text-heading-color); }
        .steps-list { display: flex; flex-direction: column; gap: 12px; }
        .step-item { background-color: var(--surface-item-color); border: 1px solid var(--border-color); border-radius: 8px; padding: 12px; display: flex; align-items: flex-start; gap: 10px; }
        .step-controls { display: flex; flex-direction: column; align-items: center; gap: 8px; color: var(--subtle-text); padding-top: 4px; }
        .drag-handle { cursor: grab; }
        .step-content { flex-grow: 1; display: flex; flex-direction: column; gap: 8px; }
        .step-name { background: none; border: none; color: var(--text-heading-color); font-size: 15px; font-weight: 500; padding: 4px 0; width: 100%; }
        .step-name:focus { background-color: var(--bg-color); }
        .step-details { display: flex; align-items: center; gap: 8px; }
        .action-select { width: 160px; flex-shrink: 0; }
        .step-actions { display: flex; align-items: center; gap: 4px; margin-left: auto; }
        .step-actions button { background: none; border: none; color: var(--subtle-text); cursor: pointer; padding: 4px; border-radius: 4px; transition: all 0.2s ease;}
        .step-actions button:hover { color: var(--text-color); background-color: var(--border-color); }
        .step-actions .delete-step:hover { color: var(--danger-color); background-color: color-mix(in srgb, var(--danger-color) 10%, transparent); }

        /* Koşullu Adım Stili */
        .step-item.conditional { border-left: 3px solid var(--success-color); flex-direction: column; padding-bottom: 8px; }
        .conditional-if { display: flex; align-items: flex-start; gap: 10px; width: 100%; }
        .conditional-if .step-content { flex-grow: 1; }
        .conditional-steps { margin-top: 12px; padding-top: 12px; padding-left: 30px; border-top: 1px dashed var(--border-color); display: flex; flex-direction: column; gap: 12px; width: 100%; }
        .conditional-steps .step-item { background-color: color-mix(in srgb, var(--surface-item-color) 50%, var(--bg-color)); }

        .editor-footer { margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border-color); display: flex; justify-content: space-between; }
        
        /* --- KÜTÜPHANE --- */
        .library-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .library-header h2 { font-size: 18px; color: var(--text-heading-color); }
        .library-list { display: flex; flex-direction: column; gap: 10px; }
        .library-item { background-color: var(--surface-item-color); border: 1px solid var(--border-color); border-radius: 8px; padding: 12px 16px; display: flex; justify-content: space-between; align-items: center; }
        .library-item-info { display: flex; flex-direction: column; gap: 4px; }
        .library-title { font-weight: 500; color: var(--text-heading-color); }
        .library-url { font-size: 12px; color: var(--subtle-text); }
        .library-item-actions { display: flex; gap: 4px; }
        .library-item-actions button { background: none; border: none; color: var(--subtle-text); cursor: pointer; padding: 6px; border-radius: 4px; transition: all 0.2s ease; }
        .library-item-actions button:hover { color: var(--text-color); background-color: var(--border-color); }
        .library-item-actions button.btn-delete:hover { color: var(--danger-color); background-color: color-mix(in srgb, var(--danger-color) 10%, transparent); }
    </style>
</head>
<body>

    <div class="sisypi-popup" data-theme="dark">
        <!-- BAŞLIK -->
        <header class="header">
            <h1>Sisypi</h1>
            <button class="theme-toggle" id="theme-toggle" title="Temayı Değiştir">
                <svg class="icon icon-moon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                <svg class="icon icon-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </button>
        </header>

        <!-- SEKMELER VE İÇERİK -->
        <div class="tabs">
            <button id="tab-editor" class="tab-button active">Editör</button>
            <button id="tab-library" class="tab-button">Kütüphane</button>
        </div>

        <main class="main-content">
            <!-- SENARYO EDİTÖRÜ GÖRÜNÜMÜ -->
            <div id="editor-view" class="view active">
                <div class="scenario-header">
                    <input type="text" value="Yeni E-ticaret Senaryosu" class="scenario-title-input">
                    <button class="btn btn-secondary">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path></svg>
                        Yeni Adım (Element Seç)
                    </button>
                </div>
                
                <div class="steps-list">
                    <!-- Örnek: Değer Yaz -->
                    <div class="step-item">
                        <div class="step-controls"><div class="drag-handle"><svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg></div></div>
                        <div class="step-content">
                            <input type="text" class="step-name" value="Arama Kutusuna Ürün Yaz">
                            <div class="step-details">
                                <select class="action-select">
                                    <option>Tıkla</option>
                                    <option selected>Değer Yaz</option>
                                    <option>Metni Kopyala</option>
                                    <option>Bekle</option>
                                    <option>Sayfayı Kaydır</option>
                                    <option>Elementi Bekle</option>
                                    <option>Koşullu Adım</option>
                                </select>
                                <input type="text" class="value-input" placeholder="Yazılacak değer..." value="Akıllı Saat">
                            </div>
                        </div>
                        <div class="step-actions">
                            <button title="Ayarlar"><svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg></button>
                            <button class="delete-step" title="Sil"><svg class="icon" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></button>
                        </div>
                    </div>

                    <!-- Örnek: Koşullu Adım -->
                    <div class="step-item conditional">
                        <div class="conditional-if">
                            <div class="step-controls"><div class="drag-handle"><svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg></div></div>
                            <div class="step-content">
                                <input type="text" class="step-name" value="EĞER 'Stokta Var' elementi görünürse">
                            </div>
                            <div class="step-actions">
                                <button title="Ayarlar"><svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg></button>
                                <button class="delete-step" title="Sil"><svg class="icon" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></button>
                            </div>
                        </div>
                        <div class="conditional-steps">
                            <!-- İç Adım -->
                            <div class="step-item">
                                <div class="step-controls"><div class="drag-handle"><svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg></div></div>
                                <div class="step-content">
                                    <input type="text" class="step-name" value="Sepete Ekle butonuna tıkla">
                                    <div class="step-details">
                                        <select class="action-select"><option selected>Tıkla</option><option>Değer Yaz</option></select>
                                    </div>
                                </div>
                                <div class="step-actions">
                                    <button class="delete-step" title="Sil"><svg class="icon" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <footer class="editor-footer">
                    <button class="btn btn-secondary">Kaydet</button>
                    <button class="btn btn-primary">
                        <svg class="icon" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                        Senaryoyu Çalıştır
                    </button>
                </footer>
            </div>

            <!-- KÜTÜPHANE GÖRÜNÜMÜ -->
            <div id="library-view" class="view">
                <div class="library-header">
                    <h2>Kayıtlı Senaryolar</h2>
                    <button class="btn btn-secondary">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        İçe Aktar
                    </button>
                </div>
                <div class="library-list">
                    <!-- Kütüphane Öğesi -->
                    <div class="library-item">
                        <div class="library-item-info">
                            <span class="library-title">LinkedIn Profil Bilgisi Çek</span>
                            <span class="library-url">linkedin.com</span>
                        </div>
                        <div class="library-item-actions">
                            <button title="Çalıştır"><svg class="icon" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></button>
                            <button title="Düzenle"><svg class="icon" viewBox="0 0 24 24"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg></button>
                            <button title="Dışa Aktar"><svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg></button>
                            <button title="Sil" class="btn-delete"><svg class="icon" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- SCRIPT -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabEditor = document.getElementById('tab-editor');
            const tabLibrary = document.getElementById('tab-library');
            const viewEditor = document.getElementById('editor-view');
            const viewLibrary = document.getElementById('library-view');
            const themeToggleButton = document.getElementById('theme-toggle');
            const popupContainer = document.querySelector('.sisypi-popup');

            const showView = (viewToShow, tabToActivate) => {
                [viewEditor, viewLibrary].forEach(v => v.classList.remove('active'));
                [tabEditor, tabLibrary].forEach(t => t.classList.remove('active'));
                viewToShow.classList.add('active');
                tabToActivate.classList.add('active');
            };

            tabEditor.addEventListener('click', () => showView(viewEditor, tabEditor));
            tabLibrary.addEventListener('click', () => showView(viewLibrary, tabLibrary));
            
            const switchTheme = () => {
                const currentTheme = popupContainer.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                popupContainer.setAttribute('data-theme', newTheme);
                localStorage.setItem('sisypi-theme', newTheme);
            };
            
            themeToggleButton.addEventListener('click', switchTheme);
            
            const savedTheme = localStorage.getItem('sisypi-theme');
            if (savedTheme) {
                popupContainer.setAttribute('data-theme', savedTheme);
            }
        });
    </script>
</body>
</html>